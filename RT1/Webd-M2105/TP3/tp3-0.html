<!DOCTYPE html>
<html>

<head>
    <title>QCM - Question 0</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="tp3.css" />
    <script src="jquery-3.5.1.min.js"></script>
</head>

<body>
    <div id="d2">
        <h1>Compléter la phrase suivante :</h1>
        <form id="qcm" action="tp3-0.html" method="get">
            <p><span id="v1"><span id="r1" class="vide">........</span></span> est un
                <span id="v2"><span id="r2" class="vide">........</span></span> de programmation de <span id="v3"><span id="r3" class="vide">........</span></span> principalement employé dans <span id="v4"><span id="r4" class="vide">........</span></span>
                interactives mais aussi pour les serveurs avec l'utilisation (par exemple) de Node.JS.</p>
            <input type="reset" value="Reset" />
            <input type="submit" value="OK" id="ok" />
        </form>
    </div>
    <div>
        <span id="z1"><span id="p1" class="proposition">les pages web</span></span>
        <span id="z2"><span id="p2" class="proposition">langage</span></span>
        <span id="z3"><span id="p3" class="proposition">JavaScript</span></span>
        <span id="z4"><span id="p4" class="proposition">scripts</span></span>
    </div>
    <div></div>

    <script>
        $(document).ready(function() {
            $("#qcm").submit(function() {
                return false;
            }); // Empeche l'envoi du formulaire
        });

        $("input:reset").click(function() {
            var message = "Tu as appuyé sur le bouton"; + ($(this).val()) + "!";
            console.log("message");
            clickButton("Tu as appuyé sur le bouton 'RESET'");
        });

        function clickButton(message) {
            var texte = $("<p></p>").text(message);
            $("div:nth-child(3)").append(texte);
            console.log(texte);
        };

        var IDsource = null;
        $("span.proposition").click(function() {
            if (IDsource == null) {
                IDsource = $(this).attr("id");
                $("div:nth-child(3)").append("Zone source : " + IDsource + "<br/>");
                console.log("Zone source : " + IDsource);
                $(this).addClass("selected").css({
                    "pointer-events": "none"
                });
                console.log("IDsource = " + IDsource);

            } else {
                $(this).removeClass("selected").css({
                    "pointer-events": "none"
                });
            }
        });

        var IDdestination = null;
        $("span.vide").click(function() {
            if (IDdestination == null) {
                IDdestination = $(this).attr("id");
                $("div:nth-child(3)").append("Zone de destination : " + IDdestination + "<br/>")
                console.log("IDdestination = " + IDdestination);
                var salut = $("#" + IDsource).parent();
                var source = $("#" + IDsource);
                console.log(source);
                source.insertBefore("#" + IDdestination);
                $("#" + IDdestination).insertBefore(salut);
                source.removeClass("selected").css({
                    "position": "initial",
                    "pointer-events": "auto"
                });
                IDsource = null;
                IDdestination = null;
            }
        });
    </script>


    <script>
        $("#ok").click(function(event) {
            console.log("HELLO");
            var message = "Tu as cliqué sur le bouton 'OK'";
            clickButton(message);
        });
    </script>



</body>

</html>